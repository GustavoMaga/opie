#############################################################################
# Makefile for building: libmultiauthpinplugin.so.0.0.2
# Generated by qmake (1.05a) (Qt 3.1.2) on: Mon Jun 14 11:00:20 2004
# Project:  pinplugin.pro
# Template: lib
# Command: $(QMAKE) -o Makefile pinplugin.pro
#############################################################################

####### Compiler, tools and options

CC       = $(CCACHE) $(DISTCC) gcc
CXX      = $(CCACHE) $(DISTCC) g++
LEX      = flex
YACC     = yacc
CFLAGS   = -pipe $(CFLAGS_EXTRA) -Wall -W -g -fPIC  -DQT_COMPONENT_DEBUG=2 -DQT_DEBUG -DOPIE_NO_BUILTIN_SHUTDOWN -DUSE_FILE_NOTIFICATION -DOPIE_SOUND_FRAGMENT_SHIFT=16
CXXFLAGS = -pipe $(CFLAGS_EXTRA) -DQWS -fno-exceptions -fno-rtti $(CXXFLAGS_EXTRA) -Wall -W -g -fPIC  -DQT_COMPONENT_DEBUG=2 -DQT_DEBUG -DOPIE_NO_BUILTIN_SHUTDOWN -DUSE_FILE_NOTIFICATION -DOPIE_SOUND_FRAGMENT_SHIFT=16
LEXFLAGS = 
YACCFLAGS= -d
INCPATH  = -I/opt/opie/mkspecs/qws/linux-generic-g++ -I. -I$(OPIEDIR)/include -I$(QTDIR)/include -I.moc/$(PLATFORM)/
LINK     = g++
LFLAGS   = $(LFLAGS_EXTRA) -Wl,-rpath-link,$(OPIEDIR)/lib -shared -Wl,-soname,libmultiauthpinplugin.so.0 -Wl,-rpath,/opt/opie/plugins/security
LIBS     = $(SUBLIBS)  -Wl,-rpath,$(QTDIR)/lib -L$(QTDIR)/lib $(LIBS_EXTRA) -lqpe -lopieui2 -L$(OPIEDIR)/lib -lqte
AR       = ar cqs
RANLIB   = 
MOC      = $(QTDIR)/bin/moc
UIC      = $(QTDIR)/bin/uic
QMAKE    = qmake
TAR      = tar -cf
GZIP     = gzip -9f
COPY     = cp -f
COPY_FILE= $(COPY) -p
COPY_DIR = $(COPY) -pR
DEL_FILE = rm -f
SYMLINK  = ln -sf
DEL_DIR  = rmdir
MOVE     = mv -f
PRO      = pinplugin.pro
CHK_DIR_EXISTS= 
MKDIR    = 

####### Output directory

OBJECTS_DIR = .obj/$(PLATFORM)/

####### Files

HEADERS = pin.h \
		pinpluginimpl.h \
		pinConfigWidget.h
SOURCES = pin.cpp \
		pinpluginimpl.cpp \
		pinConfigWidget.cpp
OBJECTS = .obj/$(PLATFORM)/pin.o \
		.obj/$(PLATFORM)/pinpluginimpl.o \
		.obj/$(PLATFORM)/pinConfigWidget.o \
		.obj/$(PLATFORM)/pinDialogBase.o
FORMS = pinDialogBase.ui
UICDECLS = pinDialogBase.h
UICIMPLS = pinDialogBase.cpp
SRCMOC   = .moc/$(PLATFORM)/moc_pin.cpp \
		.moc/$(PLATFORM)/moc_pinDialogBase.cpp \
		.moc/$(PLATFORM)/pin.moc
OBJMOC = .obj/$(PLATFORM)/moc_pin.o \
		.obj/$(PLATFORM)/moc_pinDialogBase.o
DIST	   = ../../../gen.pro \
		../../../include.pro \
		pinplugin.pro
QMAKE_TARGET = multiauthpinplugin
DESTDIR  = $(OPIEDIR)/plugins/security/
TARGET   = libmultiauthpinplugin.so.0.0.2
TARGETA	= $(OPIEDIR)/plugins/security/libmultiauthpinplugin.a
TARGETD	= libmultiauthpinplugin.so.0.0.2
TARGET0	= libmultiauthpinplugin.so
TARGET1	= libmultiauthpinplugin.so.0
TARGET2	= libmultiauthpinplugin.so.0.0

first: all
####### Implicit rules

.SUFFIXES: .c .cpp .cc .cxx .C

.cpp.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cc.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cxx.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.C.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.c.o:
	$(CC) -c $(CFLAGS) $(INCPATH) -o $@ $<

####### Build rules

all: Makefile  $(OPIEDIR)/plugins/security/$(TARGET)

$(OPIEDIR)/plugins/security/$(TARGET):  $(UICDECLS) $(OBJECTS) $(OBJMOC) $(SUBLIBS) 
	test -d $(OPIEDIR)/plugins/security/ || mkdir -p $(OPIEDIR)/plugins/security/
	-$(DEL_FILE) $(TARGET) $(TARGET0) $(TARGET1) $(TARGET2)
	$(LINK) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJMOC) $(LIBS)
	-ln -s $(TARGET) $(TARGET0)
	-ln -s $(TARGET) $(TARGET1)
	-ln -s $(TARGET) $(TARGET2)
	-$(DEL_FILE) $(OPIEDIR)/plugins/security/$(TARGET)
	-$(DEL_FILE) $(OPIEDIR)/plugins/security/$(TARGET0)
	-$(DEL_FILE) $(OPIEDIR)/plugins/security/$(TARGET1)
	-$(DEL_FILE) $(OPIEDIR)/plugins/security/$(TARGET2)
	-$(MOVE) $(TARGET) $(TARGET0) $(TARGET1) $(TARGET2) $(OPIEDIR)/plugins/security/



staticlib: $(TARGETA)

$(TARGETA):  $(UICDECLS) $(OBJECTS) $(OBJMOC)
	-$(DEL_FILE) $(TARGETA) 
	$(AR) $(TARGETA) $(OBJECTS) $(OBJMOC)

mocables: $(SRCMOC)

$(MOC): 
	( cd $(QTDIR)/src/moc ; $(MAKE) )

Makefile: pinplugin.pro  /opt/opie/mkspecs/qws/linux-generic-g++/qmake.conf ../../../gen.pro \
		../../../include.pro
	$(QMAKE) -o Makefile pinplugin.pro
qmake: 
	@$(QMAKE) -o Makefile pinplugin.pro

dist: 
	@mkdir -p .obj/$(PLATFORM)/multiauthpinplugin && $(COPY_FILE) --parents $(SOURCES) $(HEADERS) $(FORMS) $(DIST) .obj/$(PLATFORM)/multiauthpinplugin/ && ( cd `dirname .obj/$(PLATFORM)/multiauthpinplugin` && $(TAR) multiauthpinplugin.tar multiauthpinplugin && $(GZIP) multiauthpinplugin.tar ) && $(MOVE) `dirname .obj/$(PLATFORM)/multiauthpinplugin`/multiauthpinplugin.tar.gz . && $(DEL_FILE) -r .obj/$(PLATFORM)/multiauthpinplugin

mocclean:
	-$(DEL_FILE) $(OBJMOC)
	-$(DEL_FILE) $(SRCMOC)

uiclean:
	-$(DEL_FILE) $(UICIMPLS) $(UICDECLS)

yaccclean:
lexclean:
clean: mocclean uiclean
	-$(DEL_FILE) $(OBJECTS) 
	-$(DEL_FILE) *~ core *.core


####### Sub-libraries

distclean: clean
	-$(DEL_FILE) $(OPIEDIR)/plugins/security/$(TARGET) $(TARGET)
	-$(DEL_FILE) $(OPIEDIR)/plugins/security/$(TARGET0) $(OPIEDIR)/plugins/security/$(TARGET1) $(OPIEDIR)/plugins/security/$(TARGET2) $(TARGETA)


lupdate:
	lupdate -noobsolete $(PRO)

lrelease:
	lrelease $(PRO)

ipk:
	tmp=`mktemp -d /tmp/ipkg-opie.XXXXXXXXXX` && ( $(MAKE) INSTALL_ROOT="" install && ipkg-build ; rm -rf ; )

opie-lupdate:
	opie-lupdate $(PRO)

opie-lrelease:
	opie-lrelease $(PRO)

messages:
	xgettext -C -n -ktr -kQT_TRANSLATE_NOOP pin.h pinpluginimpl.h pinConfigWidget.h pin.cpp pinpluginimpl.cpp pinConfigWidget.cpp -o '$(OPIEDIR)/messages-$(QMAKE_TARGET)-tr.po' && xgettext -C -n -a pin.h pinpluginimpl.h pinConfigWidget.h pin.cpp pinpluginimpl.cpp pinConfigWidget.cpp -o '$(OPIEDIR)/messages-$(QMAKE_TARGET)-allstrings.po'

FORCE:

####### Compile

.obj/$(PLATFORM)/pin.o: pin.cpp pin.h \
		pinDialogBase.h \
		pinConfigWidget.h \
		.moc/$(PLATFORM)/pin.moc
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/$(PLATFORM)/pin.o pin.cpp

.obj/$(PLATFORM)/pinpluginimpl.o: pinpluginimpl.cpp pinpluginimpl.h \
		pin.h \
		pinConfigWidget.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/$(PLATFORM)/pinpluginimpl.o pinpluginimpl.cpp

.obj/$(PLATFORM)/pinConfigWidget.o: pinConfigWidget.cpp pinConfigWidget.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/$(PLATFORM)/pinConfigWidget.o pinConfigWidget.cpp

pinDialogBase.h: pinDialogBase.ui 
	$(UIC) pinDialogBase.ui -o pinDialogBase.h

pinDialogBase.cpp: pinDialogBase.h pinDialogBase.ui 
	$(UIC) pinDialogBase.ui -i pinDialogBase.h -o pinDialogBase.cpp

.obj/$(PLATFORM)/pinDialogBase.o: pinDialogBase.cpp pinDialogBase.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/$(PLATFORM)/pinDialogBase.o pinDialogBase.cpp

.obj/$(PLATFORM)/moc_pin.o: .moc/$(PLATFORM)/moc_pin.cpp pin.h pinConfigWidget.h
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/$(PLATFORM)/moc_pin.o .moc/$(PLATFORM)/moc_pin.cpp

.obj/$(PLATFORM)/moc_pinDialogBase.o: .moc/$(PLATFORM)/moc_pinDialogBase.cpp pinDialogBase.h 
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o .obj/$(PLATFORM)/moc_pinDialogBase.o .moc/$(PLATFORM)/moc_pinDialogBase.cpp

.moc/x86-linux/moc_pin.cpp: $(MOC) pin.h
	$(MOC) pin.h -o .moc/x86-linux/moc_pin.cpp

.moc/x86-linux/pin.moc: $(MOC) pin.cpp
	$(MOC) pin.cpp -o .moc/x86-linux/pin.moc

.moc/x86-linux/moc_pinDialogBase.cpp: $(MOC) pinDialogBase.h
	$(MOC) pinDialogBase.h -o .moc/x86-linux/moc_pinDialogBase.cpp

####### Install

install_target: 
	@$(CHK_DIR_EXISTS) "$(INSTALL_ROOT)$(OPIEDIR)/lib/" || $(MKDIR) "$(INSTALL_ROOT)$(OPIEDIR)/lib/"
	-$(COPY) "$(OPIEDIR)/plugins/security/$(TARGET)" "$(INSTALL_ROOT)$(OPIEDIR)/lib/$(TARGET)"
	-$(SYMLINK) "$(TARGET)" "$(INSTALL_ROOT)$(OPIEDIR)/lib/$(TARGET0)"
	-$(SYMLINK) "$(TARGET)" "$(INSTALL_ROOT)$(OPIEDIR)/lib/$(TARGET1)"
	-$(SYMLINK) "$(TARGET)" "$(INSTALL_ROOT)$(OPIEDIR)/lib/$(TARGET2)"

uninstall_target: 
	-$(DEL_FILE) "$(INSTALL_ROOT)$(OPIEDIR)/lib/$(TARGET)"
	-$(DEL_FILE) "$(INSTALL_ROOT)$(OPIEDIR)/lib/$(TARGET0)"
	-$(DEL_FILE) "$(INSTALL_ROOT)$(OPIEDIR)/lib/$(TARGET1)"
	-$(DEL_FILE) "$(INSTALL_ROOT)$(OPIEDIR)/lib/$(TARGET2)"
	-$(DEL_DIR) "$(INSTALL_ROOT)$(OPIEDIR)/lib/"


install: all install_target 

uninstall: uninstall_target 


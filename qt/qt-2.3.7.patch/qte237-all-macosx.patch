diff -ru qte-2.3.7_orig/include/qapplication.h qte-2.3.7/include/qapplication.h
--- qte-2.3.7_orig/include/qapplication.h	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/include/qapplication.h	Mon Oct 27 14:21:28 2003
@@ -61,6 +61,10 @@
 class QSemaphore;
 #endif
 
+#if !defined( QT_WEAK_SYMBOL )
+#define QT_WEAK_SYMBOL
+#endif
+
 // REMOVE IN 3.0 (just here for moc source compatibility)
 #define QNonBaseApplication QApplication
 
@@ -85,7 +89,10 @@
 
 #ifndef QT_NO_STYLE
     static QStyle  &style();
-    static void	    setStyle( QStyle* );
+    static void	    setStyle( QStyle* ) QT_WEAK_SYMBOL;
+private:
+	static void     setStyle_NonWeak( QStyle* );
+public:
 #endif
 #if 1	/* OBSOLETE */
     enum ColorMode { NormalColors, CustomColors };
@@ -106,11 +113,19 @@
 #ifndef QT_NO_PALETTE
     static QPalette  palette( const QWidget* = 0 );
     static void	     setPalette( const QPalette &, bool informWidgets=FALSE,
+				 const char* className = 0 ) QT_WEAK_SYMBOL;
+private:
+    static void	     setPalette_NonWeak( const QPalette &, bool informWidgets=FALSE,
 				 const char* className = 0 );
+public:
 #endif
     static QFont     font( const QWidget* = 0 );
     static void	     setFont( const QFont &, bool informWidgets=FALSE,
+			      const char* className = 0 ) QT_WEAK_SYMBOL;
+private:
+    static void	     setFont_NonWeak( const QFont &, bool informWidgets=FALSE,
 			      const char* className = 0 );
+public:			      
     static QFontMetrics fontMetrics();
 
     QWidget	    *mainWidget()  const;
@@ -207,7 +222,10 @@
     void             qwsSetCustomColors( QRgb *colortable, int start, int numColors );
 #ifndef QT_NO_QWS_MANAGER
     static QWSDecoration &qwsDecoration();
-    static void      qwsSetDecoration( QWSDecoration *);
+    static void      qwsSetDecoration( QWSDecoration *) QT_WEAK_SYMBOL;
+private:
+    static void      qwsSetDecoration_NonWeak( QWSDecoration *);
+public:
 #endif
 #endif
 
Only in qte-2.3.7/include: qconfig-qpe.h
diff -ru qte-2.3.7_orig/include/qconfig.h qte-2.3.7/include/qconfig.h
--- qte-2.3.7_orig/include/qconfig.h	Fri Jan 26 14:43:06 2001
+++ qte-2.3.7/include/qconfig.h	Wed Oct 29 22:13:16 2003
@@ -1,3 +1,26 @@
+// Copied from qconfig-qpe.h
+/**********************************************************************
+** Copyright (C) 2000 Trolltech AS.  All rights reserved.
+**
+** This file is part of Qtopia Environment.
+**
+** This file may be distributed and/or modified under the terms of the
+** GNU General Public License version 2 as published by the Free Software
+** Foundation and appearing in the file LICENSE.GPL included in the
+** packaging of this file.
+**
+** This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE
+** WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
+**
+** See http://www.trolltech.com/gpl/ for GPL licensing information.
+**
+** Contact info@trolltech.com if any conditions of this licensing are
+** not clear to you.
+**
+**********************************************************************/
+#ifndef QT_H
+#endif // QT_H
+
 // Empty leaves all features enabled.  See doc/html/features.html for choices.
 
 // Note that disabling some features will produce a libqt that is not
@@ -8,3 +31,69 @@
 #ifndef QT_DLL
 #define QT_DLL // Internal
 #endif
+
+#if defined(QT_QWS_IPAQ) || defined(QT_QWS_CASSIOPEIA) || defined(QT_QWS_SL5XXX)
+# define QT_NO_QWS_CURSOR
+# define QT_NO_QWS_MOUSE_AUTO
+#endif
+#ifndef QT_NO_CODECS
+#define QT_NO_CODECS
+#endif
+#define QT_NO_UNICODETABLES
+//#define QT_NO_IMAGEIO_BMP
+#define QT_NO_IMAGEIO_PPM
+//#define QT_NO_ASYNC_IO
+//#define QT_NO_ASYNC_IMAGE_IO
+#define QT_NO_FREETYPE
+#define QT_NO_BDF
+//#define QT_NO_FONTDATABASE
+#define QT_NO_DRAGANDDROP
+//#define QT_NO_CLIPBOARD
+#define QT_NO_PROPERTIES
+#define QT_NO_NETWORKPROTOCOL
+
+#define QT_NO_IMAGE_TEXT
+
+//#define QT_NO_TOOLTIP
+#define QT_NO_COLORNAMES
+#define QT_NO_TRANSFORMATIONS
+#define QT_NO_TRANSLATION_BUILDER
+#define QT_NO_COMPLEXTEXT
+#define QT_NO_PRINTER
+#define QT_NO_PICTURE
+//#define QT_NO_ICONVIEW
+#define QT_NO_DIAL
+#define QT_NO_SIZEGRIP
+#define QT_NO_WORKSPACE
+//#define QT_NO_TABLE
+//#define QT_NO_ACTION
+//#define QT_NO_SETTINGS
+#define QT_NO_STYLE_POCKETPC
+#ifndef QT_NO_STYLE_AQUA
+# define QT_NO_STYLE_AQUA
+#endif
+#define QT_NO_STYLE_MOTIF
+#define QT_NO_STYLE_PLATINUM
+#define QT_NO_FILEDIALOG
+#define QT_NO_FONTDIALOG
+#define QT_NO_PRINTDIALOG
+#define QT_NO_COLORDIALOG
+#define QT_NO_INPUTDIALOG
+//#define QT_NO_MESSAGEBOX
+#define QT_NO_PROGRESSDIALOG
+//#define QT_NO_TABDIALOG
+#define QT_NO_WIZARD
+#define QT_NO_EFFECTS
+//#define QT_NO_COMPONENT
+#define QT_NO_DOM
+#define QT_NO_SEMIMODAL
+//#define QT_NO_PROGRESSBAR
+#define QT_NO_SPLITTER
+
+//#define QT_NO_QWS_SAVEFONTS
+//#define QT_NO_QWS_PROPERTIES
+
+#define QT_NO_QWS_BEOS_WM_STYLE
+#define QT_NO_QWS_KDE2_WM_STYLE
+#define QT_NO_QWS_KDE_WM_STYLE
+#define QT_NO_QWS_WINDOWS_WM_STYLE
diff -ru qte-2.3.7_orig/include/qfontdatabase.h qte-2.3.7/include/qfontdatabase.h
--- qte-2.3.7_orig/include/qfontdatabase.h	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/include/qfontdatabase.h	Mon Oct 27 14:21:28 2003
@@ -59,6 +59,10 @@
 class QDiskFont;
 #endif
 
+#if !defined( QT_WEAK_SYMBOL )
+#define QT_WEAK_SYMBOL
+#endif
+
 class QFontDatabasePrivate;
 
 class Q_EXPORT QFontDatabase
@@ -67,9 +71,16 @@
     QFontDatabase();
 
     QStringList families( bool onlyForLocale = TRUE ) const;
+    
+    
     QValueList<int> pointSizes( const QString &family,
 				const QString &style = QString::null,
-				const QString &charSet = QString::null );
+				const QString &charSet = QString::null ) QT_WEAK_SYMBOL;
+private:
+    QValueList<int> pointSizes_NonWeak( const QString &family,
+				const QString &style,
+				const QString &charSet );
+public:
     QStringList styles( const QString &family,
 			const QString &charSet = QString::null ) const;
     QStringList charSets( const QString &familyName,
Only in qte-2.3.7_orig/include: qgifimageformat_p.h
diff -ru qte-2.3.7_orig/include/qmodules.h qte-2.3.7/include/qmodules.h
--- qte-2.3.7_orig/include/qmodules.h	Fri Aug 31 17:00:56 2001
+++ qte-2.3.7/include/qmodules.h	Wed Oct 29 21:57:53 2003
@@ -1,14 +1,12 @@
-#ifndef QT_H
-#endif // QT_H
-
+// These modules are licensed to you
 #define QT_MODULE_TOOLS
 #define QT_MODULE_KERNEL
 #define QT_MODULE_WIDGETS
 #define QT_MODULE_DIALOGS
-
 #define QT_MODULE_ICONVIEW
 #define QT_MODULE_WORKSPACE
-#define QT_MODULE_TABLE
+#define QT_MODULE_NETWORK
 #define QT_MODULE_CANVAS
+#define QT_MODULE_TABLE
 #define QT_MODULE_XML
-#define QT_MODULE_NETWORK
+#define QT_MODULE_OPENGL
Only in qte-2.3.7_orig/include: qxt.h
Only in qte-2.3.7/lib: libqte.dylib
Only in qte-2.3.7/lib: libqte.dylib.2
Only in qte-2.3.7/lib: libqte.dylib.2.3
Only in qte-2.3.7/lib: libqte.dylib.2.3.7
Only in qte-2.3.7/src/3rdparty/kernel: qgifimageformat.o
Only in qte-2.3.7/src/3rdparty/kernel: qpointarray.o
Only in qte-2.3.7/src/3rdparty/kernel: qpolygonscanner.o
Only in qte-2.3.7/src/3rdparty/kernel: qregion_qws.o
Only in qte-2.3.7/src/3rdparty/libpng: png.o
Only in qte-2.3.7/src/3rdparty/libpng: pngerror.o
Only in qte-2.3.7/src/3rdparty/libpng: pngget.o
Only in qte-2.3.7/src/3rdparty/libpng: pngmem.o
Only in qte-2.3.7/src/3rdparty/libpng: pngpread.o
Only in qte-2.3.7/src/3rdparty/libpng: pngread.o
Only in qte-2.3.7/src/3rdparty/libpng: pngrio.o
Only in qte-2.3.7/src/3rdparty/libpng: pngrtran.o
Only in qte-2.3.7/src/3rdparty/libpng: pngrutil.o
Only in qte-2.3.7/src/3rdparty/libpng: pngset.o
Only in qte-2.3.7/src/3rdparty/libpng: pngtrans.o
Only in qte-2.3.7/src/3rdparty/libpng: pngwio.o
Only in qte-2.3.7/src/3rdparty/libpng: pngwrite.o
Only in qte-2.3.7/src/3rdparty/libpng: pngwtran.o
Only in qte-2.3.7/src/3rdparty/libpng: pngwutil.o
Only in qte-2.3.7/src/3rdparty/tools: qbig5codec.o
Only in qte-2.3.7/src/3rdparty/tools: qeucjpcodec.o
Only in qte-2.3.7/src/3rdparty/tools: qeuckrcodec.o
Only in qte-2.3.7/src/3rdparty/tools: qgbkcodec.o
Only in qte-2.3.7/src/3rdparty/tools: qjiscodec.o
Only in qte-2.3.7/src/3rdparty/tools: qjpunicode.o
Only in qte-2.3.7/src/3rdparty/tools: qrtlcodec.o
Only in qte-2.3.7/src/3rdparty/tools: qsjiscodec.o
Only in qte-2.3.7/src/3rdparty/tools: qtsciicodec.o
Only in qte-2.3.7/src/3rdparty/zlib: Makefile
Only in qte-2.3.7/src/3rdparty/zlib: adler32.o
Only in qte-2.3.7/src/3rdparty/zlib: compress.o
Only in qte-2.3.7/src/3rdparty/zlib: crc32.o
Only in qte-2.3.7/src/3rdparty/zlib: deflate.o
Only in qte-2.3.7/src/3rdparty/zlib: gzio.o
Only in qte-2.3.7/src/3rdparty/zlib: infblock.o
Only in qte-2.3.7/src/3rdparty/zlib: infcodes.o
Only in qte-2.3.7/src/3rdparty/zlib: inffast.o
Only in qte-2.3.7/src/3rdparty/zlib: inflate.o
Only in qte-2.3.7/src/3rdparty/zlib: inftrees.o
Only in qte-2.3.7/src/3rdparty/zlib: infutil.o
Only in qte-2.3.7/src/3rdparty/zlib: trees.o
Only in qte-2.3.7/src/3rdparty/zlib: uncompr.o
Only in qte-2.3.7/src/3rdparty/zlib: zutil.o
Only in qte-2.3.7/src: Makefile
Only in qte-2.3.7/src: allmoc.cpp
Only in qte-2.3.7/src: allmoc.o
Only in qte-2.3.7/src/canvas: qcanvas.o
Only in qte-2.3.7/src/dialogs: qcolordialog.moc
Only in qte-2.3.7/src/dialogs: qcolordialog.o
Only in qte-2.3.7/src/dialogs: qfiledialog.moc
Only in qte-2.3.7/src/dialogs: qfiledialog.o
Only in qte-2.3.7/src/dialogs: qfontdialog.o
Only in qte-2.3.7/src/dialogs: qinputdialog.o
Only in qte-2.3.7/src/dialogs: qmessagebox.o
Only in qte-2.3.7/src/dialogs: qprintdialog.o
Only in qte-2.3.7/src/dialogs: qprogressdialog.o
Only in qte-2.3.7/src/dialogs: qtabdialog.o
Only in qte-2.3.7/src/dialogs: qwizard.o
Only in qte-2.3.7/src/iconview: qiconview.o
Only in qte-2.3.7/src/kernel: qabstractlayout.o
Only in qte-2.3.7/src/kernel: qaccel.o
diff -ru qte-2.3.7_orig/src/kernel/qapplication.cpp qte-2.3.7/src/kernel/qapplication.cpp
--- qte-2.3.7_orig/src/kernel/qapplication.cpp	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/src/kernel/qapplication.cpp	Mon Oct 27 14:21:28 2003
@@ -35,6 +35,8 @@
 **
 **********************************************************************/
 
+#define QT_WEAK_SYMBOL	__attribute__(( weak ))
+
 #include "qobjectlist.h"
 #include "qobjectdict.h"
 #include "qapplication.h"
@@ -933,11 +935,16 @@
 #ifndef QT_NO_STYLE
 void QApplication::setStyle( QStyle *style )
 {
+	setStyle_NonWeak ( style );
+}
+
+void QApplication::setStyle_NonWeak( QStyle *style )
+{
     QStyle* old = app_style;
-    app_style = style;
 
     if ( startingUp() ) {
 	delete old;
+	app_style = style;
 	return;
     }
 
@@ -958,6 +965,8 @@
 	old->unPolish( qApp );
     }
 
+    app_style = style;
+ 
     // take care of possible palette requirements of certain gui
     // styles. Do it before polishing the application since the style
     // might call QApplication::setStyle() itself
@@ -1184,13 +1193,30 @@
   \sa QWidget::setPalette(), palette(), QStyle::polish()
 */
 
-void QApplication::setPalette( const QPalette &palette, bool informWidgets,
+void QApplication::setPalette ( const QPalette &palette, bool informWidgets,
+			       const char* className )
+{
+	setPalette_NonWeak ( palette, informWidgets, className );
+}
+
+void QApplication::setPalette_NonWeak ( const QPalette &palette, bool informWidgets,
 			       const char* className )
 {
     QPalette pal = palette;
 #ifndef QT_NO_STYLE
-    if ( !startingUp() )
+    if ( !startingUp() ) {
 	qApp->style().polish( pal );	// NB: non-const reference
+	if ( className ) {
+	    // if we just polished a class specific palette (this normally 
+	    // only called by qt_fix_tooltips - see below), we better re-
+	    // polish the global palette. Some styles like liquid can get 
+	    // confused, because they can not detect if the polished palette 
+	    // is the global one or only a class specific one.
+	    // (liquid uses this palette to calculate blending pixmaps)
+	    QPalette p = qApp-> palette ( );
+	    qApp->style().polish ( p );
+	}
+    }
 #endif
     bool all = FALSE;
     if ( !className ) {
@@ -1273,6 +1299,12 @@
 */
 
 void QApplication::setFont( const QFont &font, bool informWidgets,
+			    const char* className )
+{
+	setFont_NonWeak ( font, informWidgets, className );
+}
+
+void QApplication::setFont_NonWeak( const QFont &font, bool informWidgets,
 			    const char* className )
 {
     bool all = FALSE;
diff -ru qte-2.3.7_orig/src/kernel/qapplication.h qte-2.3.7/src/kernel/qapplication.h
--- qte-2.3.7_orig/src/kernel/qapplication.h	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/src/kernel/qapplication.h	Mon Oct 27 14:21:28 2003
@@ -61,6 +61,10 @@
 class QSemaphore;
 #endif
 
+#if !defined( QT_WEAK_SYMBOL )
+#define QT_WEAK_SYMBOL
+#endif
+
 // REMOVE IN 3.0 (just here for moc source compatibility)
 #define QNonBaseApplication QApplication
 
@@ -85,7 +89,10 @@
 
 #ifndef QT_NO_STYLE
     static QStyle  &style();
-    static void	    setStyle( QStyle* );
+    static void	    setStyle( QStyle* ) QT_WEAK_SYMBOL;
+private:
+	static void     setStyle_NonWeak( QStyle* );
+public:
 #endif
 #if 1	/* OBSOLETE */
     enum ColorMode { NormalColors, CustomColors };
@@ -106,11 +113,19 @@
 #ifndef QT_NO_PALETTE
     static QPalette  palette( const QWidget* = 0 );
     static void	     setPalette( const QPalette &, bool informWidgets=FALSE,
+				 const char* className = 0 ) QT_WEAK_SYMBOL;
+private:
+    static void	     setPalette_NonWeak( const QPalette &, bool informWidgets=FALSE,
 				 const char* className = 0 );
+public:
 #endif
     static QFont     font( const QWidget* = 0 );
     static void	     setFont( const QFont &, bool informWidgets=FALSE,
+			      const char* className = 0 ) QT_WEAK_SYMBOL;
+private:
+    static void	     setFont_NonWeak( const QFont &, bool informWidgets=FALSE,
 			      const char* className = 0 );
+public:			      
     static QFontMetrics fontMetrics();
 
     QWidget	    *mainWidget()  const;
@@ -207,7 +222,10 @@
     void             qwsSetCustomColors( QRgb *colortable, int start, int numColors );
 #ifndef QT_NO_QWS_MANAGER
     static QWSDecoration &qwsDecoration();
-    static void      qwsSetDecoration( QWSDecoration *);
+    static void      qwsSetDecoration( QWSDecoration *) QT_WEAK_SYMBOL;
+private:
+    static void      qwsSetDecoration_NonWeak( QWSDecoration *);
+public:
 #endif
 #endif
 
Only in qte-2.3.7/src/kernel: qapplication.o
diff -ru qte-2.3.7_orig/src/kernel/qapplication_qws.cpp qte-2.3.7/src/kernel/qapplication_qws.cpp
--- qte-2.3.7_orig/src/kernel/qapplication_qws.cpp	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/src/kernel/qapplication_qws.cpp	Mon Oct 27 14:21:28 2003
@@ -2804,6 +2804,11 @@
 */
 void QApplication::qwsSetDecoration( QWSDecoration *d )
 {
+	qwsSetDecoration_NonWeak ( d );
+}
+
+void QApplication::qwsSetDecoration_NonWeak( QWSDecoration *d )
+{
     if ( d ) {
 	delete qws_decoration;
 	qws_decoration = d;
Only in qte-2.3.7/src/kernel: qapplication_qws.cpp~
Only in qte-2.3.7/src/kernel: qapplication_qws.o
Only in qte-2.3.7/src/kernel: qasyncimageio.o
Only in qte-2.3.7/src/kernel: qasyncio.o
Only in qte-2.3.7/src/kernel: qbitmap.o
Only in qte-2.3.7/src/kernel: qclipboard.o
Only in qte-2.3.7/src/kernel: qclipboard_qws.o
Only in qte-2.3.7/src/kernel: qcolor.o
Only in qte-2.3.7/src/kernel: qcolor_p.o
Only in qte-2.3.7/src/kernel: qcolor_qws.o
Only in qte-2.3.7/src/kernel: qconnection.o
Only in qte-2.3.7/src/kernel: qcopchannel_qws.moc
Only in qte-2.3.7/src/kernel: qcopchannel_qws.o
Only in qte-2.3.7/src/kernel: qcursor.o
Only in qte-2.3.7/src/kernel: qcursor_qws.o
Only in qte-2.3.7/src/kernel: qdialog.o
Only in qte-2.3.7/src/kernel: qdirectpainter_qws.o
Only in qte-2.3.7/src/kernel: qdnd_qws.o
Only in qte-2.3.7/src/kernel: qdragobject.o
Only in qte-2.3.7/src/kernel: qdrawutil.o
Only in qte-2.3.7/src/kernel: qdropsite.o
Only in qte-2.3.7/src/kernel: qevent.o
Only in qte-2.3.7/src/kernel: qfocusdata.o
Only in qte-2.3.7/src/kernel: qfont.o
Only in qte-2.3.7/src/kernel: qfont_qws.o
diff -ru qte-2.3.7_orig/src/kernel/qfontdatabase.cpp qte-2.3.7/src/kernel/qfontdatabase.cpp
--- qte-2.3.7_orig/src/kernel/qfontdatabase.cpp	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/src/kernel/qfontdatabase.cpp	Mon Oct 27 14:21:28 2003
@@ -35,6 +35,8 @@
 **
 **********************************************************************/
 
+#define QT_WEAK_SYMBOL  __attribute__(( weak ))
+
 #include "qfontdatabase.h"
 
 #ifndef QT_NO_FONTDATABASE
@@ -2421,6 +2423,13 @@
 */
 
 QValueList<int> QFontDatabase::pointSizes( const QString &family,
+                                                 const QString &style,
+                                                 const QString &charSet )
+{
+	return pointSizes_NonWeak ( family, style, charSet );
+}
+
+QValueList<int> QFontDatabase::pointSizes_NonWeak ( const QString &family,
                                                  const QString &style,
                                                  const QString &charSet )
 {
diff -ru qte-2.3.7_orig/src/kernel/qfontdatabase.h qte-2.3.7/src/kernel/qfontdatabase.h
--- qte-2.3.7_orig/src/kernel/qfontdatabase.h	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/src/kernel/qfontdatabase.h	Mon Oct 27 14:21:28 2003
@@ -59,6 +59,10 @@
 class QDiskFont;
 #endif
 
+#if !defined( QT_WEAK_SYMBOL )
+#define QT_WEAK_SYMBOL
+#endif
+
 class QFontDatabasePrivate;
 
 class Q_EXPORT QFontDatabase
@@ -67,9 +71,16 @@
     QFontDatabase();
 
     QStringList families( bool onlyForLocale = TRUE ) const;
+    
+    
     QValueList<int> pointSizes( const QString &family,
 				const QString &style = QString::null,
-				const QString &charSet = QString::null );
+				const QString &charSet = QString::null ) QT_WEAK_SYMBOL;
+private:
+    QValueList<int> pointSizes_NonWeak( const QString &family,
+				const QString &style,
+				const QString &charSet );
+public:
     QStringList styles( const QString &family,
 			const QString &charSet = QString::null ) const;
     QStringList charSets( const QString &familyName,
Only in qte-2.3.7/src/kernel: qfontdatabase.o
Only in qte-2.3.7/src/kernel: qfontfactorybdf_qws.o
Only in qte-2.3.7/src/kernel: qfontfactoryttf_qws.o
Only in qte-2.3.7/src/kernel: qfontmanager_qws.o
diff -ru qte-2.3.7_orig/src/kernel/qgfx_qws.cpp qte-2.3.7/src/kernel/qgfx_qws.cpp
--- qte-2.3.7_orig/src/kernel/qgfx_qws.cpp	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/src/kernel/qgfx_qws.cpp	Mon Oct 27 14:27:25 2003
@@ -32,7 +32,7 @@
 #include "qgfx_qws.h"
 
 #include <stdio.h>
-#include <dlfcn.h>
+//#include <dlfcn.h>
 #include <sys/types.h>
 #include <dirent.h>
 #include <stdlib.h>
Only in qte-2.3.7/src/kernel: qgfx_qws.o
diff -ru qte-2.3.7_orig/src/kernel/qgfxraster_qws.cpp qte-2.3.7/src/kernel/qgfxraster_qws.cpp
--- qte-2.3.7_orig/src/kernel/qgfxraster_qws.cpp	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/src/kernel/qgfxraster_qws.cpp	Mon Oct 27 14:27:25 2003
@@ -75,7 +75,11 @@
 # if __BYTE_ORDER == __BIG_ENDIAN
 #  define QWS_BIG_ENDIAN
 # endif
+#elif defined(__APPLE__)
+#  define QWS_BIG_ENDIAN
 #endif
+// AJ: the above (test for __APPLE__) is very hacky, but I can't
+// think of something better at the moment.
 
 // Pull this private function in from qglobal.cpp
 extern unsigned int qt_int_sqrt( unsigned int n );
@@ -3770,6 +3774,19 @@
 	    b = srcval & 0xff;
 
 	    unsigned char * tmp=(unsigned char *)&alphabuf[loopc];
+# ifdef QWS_BIG_ENDIAN
+	    if(av==255) {
+	        // Do nothing - we already have source values in r,g,b
+	    } else if(av==0) {
+	        r = *(tmp+1);
+	        g = *(tmp+2);
+	        b = *(tmp+3);
+	    } else {
+		r = ((r-*(tmp+1)) * av) / 256 + *(tmp+1);
+		g = ((g-*(tmp+2)) * av) / 256 + *(tmp+2);
+		b = ((b-*(tmp+3)) * av) / 256 + *(tmp+3);
+	    }
+# else
 	    if(av==255) {
 	        // Do nothing - we already have source values in r,g,b
 	    } else if(av==0) {
@@ -3781,6 +3798,7 @@
 		g = ((g-*(tmp+1)) * av) / 256 + *(tmp+1);
 		b = ((b-*(tmp+0)) * av) / 256 + *(tmp+0);
 	    }
+# endif
 	    *(alphaptr++) = (r << 16) | (g << 8) | b;
 	}
 
@@ -4204,7 +4222,7 @@
 
     } else if ( depth == 1 ) {
 	if (srctype==SourceImage) {
-	    static int warn;
+	    static int warn = 0;
 	    if ( warn++ < 5 )
 		qDebug( "bitmap alpha-image not implemented" );
 	    hImageLineUnclipped( x1, x2, l, srcdata, FALSE );
@@ -4237,7 +4255,7 @@
     setAlphaType(IgnoreAlpha);
     if ( w <= 0 || h <= 0 || !ncliprect ) return;
     GFX_START(QRect(rx+xoffs, ry+yoffs, w+1, h+1))
-#ifdef QWS_EXPERIMENTAL_FASTPATH
+#if 0 // def QWS_EXPERIMENTAL_FASTPATH    !! this is crashing HancomWord on OZ !!
     // ### fix for 8bpp
     // This seems to be reliable now, at least for 16bpp
 
Only in qte-2.3.7/src/kernel: qgfxraster_qws.cpp~
Only in qte-2.3.7/src/kernel: qgfxraster_qws.o
Only in qte-2.3.7/src/kernel: qguardedptr.o
Only in qte-2.3.7/src/kernel: qiconset.o
Only in qte-2.3.7/src/kernel: qimage.o
Only in qte-2.3.7/src/kernel: qinputcontext_qws.o
Only in qte-2.3.7/src/kernel: qjpegio.o
diff -ru qte-2.3.7_orig/src/kernel/qkeyboard_qws.cpp qte-2.3.7/src/kernel/qkeyboard_qws.cpp
--- qte-2.3.7_orig/src/kernel/qkeyboard_qws.cpp	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/src/kernel/qkeyboard_qws.cpp	Mon Oct 27 14:42:11 2003
@@ -69,7 +69,7 @@
 #if !defined(_OS_QNX6_)
 
 #include <termios.h>
-#if !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
+#if !defined(_OS_MACX_) && !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
 #include <sys/kd.h>
 #include <sys/vt.h>
 #endif
@@ -468,10 +468,12 @@
 void QWSPC101KeyboardHandler::restoreLeds()
 {
     char leds;
+#if !defined(_OS_MACX_)
     ioctl(0, KDGETLED, &leds);
     leds = leds & ~LED_CAP;
     if ( caps ) leds |= LED_CAP;
     ioctl(0, KDSETLED, leds);
+#endif
 }
 
 class QWSTtyKeyboardHandler : public QWSPC101KeyboardHandler
@@ -547,7 +549,7 @@
 
 static void vtSwitchHandler(int /*sig*/)
 {
-#if !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
+#if !defined(_OS_MACX_) && !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
     if (vtActive) {
 	qwsServer->enablePainting(false);
 	qt_screen->save();
@@ -880,7 +882,7 @@
     if (term && !release) {
 	ctrl = false;
 	alt = false;
-#if !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
+#if !defined(_OS_MACX_) && !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
 	ioctl(kbdFD, VT_ACTIVATE, term);
 #endif
 	return;
@@ -1031,7 +1033,7 @@
 	struct termios termdata;
 	tcgetattr( kbdFD, &termdata );
 
-#if !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
+#if !defined(_OS_MACX_) && !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
 	ioctl(kbdFD, KDSKBMODE, K_RAW);
 #endif
 
@@ -1047,7 +1049,7 @@
 
 	signal(VTSWITCHSIG, vtSwitchHandler);
 
-#if !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
+#if !defined(_OS_MACX_) && !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
 	struct vt_mode vtMode;
 	ioctl(kbdFD, VT_GETMODE, &vtMode);
 
@@ -1068,7 +1070,7 @@
 {
     if (kbdFD >= 0)
     {
-#if !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
+#if !defined(_OS_MACX_) && !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
 	ioctl(kbdFD, KDSKBMODE, K_XLATE);
 #endif
 	tcsetattr(kbdFD, TCSANOW, &origTermData);
Only in qte-2.3.7/src/kernel: qkeyboard_qws.cpp.rej
Only in qte-2.3.7/src/kernel: qkeyboard_qws.cpp~
Only in qte-2.3.7/src/kernel: qkeyboard_qws.moc
Only in qte-2.3.7/src/kernel: qkeyboard_qws.o
Only in qte-2.3.7/src/kernel: qlayout.o
Only in qte-2.3.7/src/kernel: qlayoutengine.o
Only in qte-2.3.7/src/kernel: qlocalfs.o
diff -ru qte-2.3.7_orig/src/kernel/qlock_qws.cpp qte-2.3.7/src/kernel/qlock_qws.cpp
--- qte-2.3.7_orig/src/kernel/qlock_qws.cpp	Thu Jul 17 03:20:25 2003
+++ qte-2.3.7/src/kernel/qlock_qws.cpp	Mon Oct 27 14:27:25 2003
@@ -38,7 +38,7 @@
 #include <errno.h>
 
 #if defined(__GNU_LIBRARY__) && !defined(_SEM_SEMUN_UNDEFINED) \
-    || defined _OS_FREEBSD_
+    || defined(_OS_FREEBSD_) || defined(_OS_MACX_)
 /* union semun is defined by including <sys/sem.h> */
 #else
 /* according to X/OPEN we have to define it ourselves */
Only in qte-2.3.7/src/kernel: qlock_qws.o
Only in qte-2.3.7/src/kernel: qmemorymanager_qws.o
Only in qte-2.3.7/src/kernel: qmetaobject.o
Only in qte-2.3.7/src/kernel: qmime.o
Only in qte-2.3.7/src/kernel: qmngio.o
Only in qte-2.3.7/src/kernel: qmovie.moc
Only in qte-2.3.7/src/kernel: qmovie.o
Only in qte-2.3.7/src/kernel: qnetworkprotocol.o
Only in qte-2.3.7/src/kernel: qobject.o
Only in qte-2.3.7/src/kernel: qpaintdevice_qws.o
Only in qte-2.3.7/src/kernel: qpaintdevicemetrics.o
Only in qte-2.3.7/src/kernel: qpainter.o
Only in qte-2.3.7/src/kernel: qpainter_qws.o
Only in qte-2.3.7/src/kernel: qpalette.o
Only in qte-2.3.7/src/kernel: qpicture.o
Only in qte-2.3.7/src/kernel: qpixmap.o
Only in qte-2.3.7/src/kernel: qpixmap_qws.o
Only in qte-2.3.7/src/kernel: qpixmapcache.o
Only in qte-2.3.7/src/kernel: qpngio.o
Only in qte-2.3.7/src/kernel: qpoint.o
Only in qte-2.3.7/src/kernel: qprinter.o
Only in qte-2.3.7/src/kernel: qprinter_qws.o
Only in qte-2.3.7/src/kernel: qpsprinter.o
Only in qte-2.3.7/src/kernel: qrect.o
Only in qte-2.3.7/src/kernel: qregion.o
Only in qte-2.3.7/src/kernel: qrichtext.o
Only in qte-2.3.7/src/kernel: qsemimodal.o
Only in qte-2.3.7/src/kernel: qsharedmemory.o
Only in qte-2.3.7/src/kernel: qsignal.o
Only in qte-2.3.7/src/kernel: qsignalmapper.o
Only in qte-2.3.7/src/kernel: qsimplerichtext.o
Only in qte-2.3.7/src/kernel: qsize.o
Only in qte-2.3.7/src/kernel: qsizegrip.o
Only in qte-2.3.7/src/kernel: qsocketnotifier.o
Only in qte-2.3.7/src/kernel: qsound.o
Only in qte-2.3.7/src/kernel: qsound_qws.o
Only in qte-2.3.7/src/kernel: qsoundqss_qws.moc
Only in qte-2.3.7/src/kernel: qsoundqss_qws.o
Only in qte-2.3.7/src/kernel: qstyle.o
Only in qte-2.3.7/src/kernel: qstylesheet.o
Only in qte-2.3.7/src/kernel: qthread_unix.moc
Only in qte-2.3.7/src/kernel: qthread_unix.o
Only in qte-2.3.7/src/kernel: qtimer.o
Only in qte-2.3.7/src/kernel: qtranslator.o
Only in qte-2.3.7/src/kernel: qurl.o
Only in qte-2.3.7/src/kernel: qurlinfo.o
Only in qte-2.3.7/src/kernel: qurloperator.o
Only in qte-2.3.7/src/kernel: qvariant.o
Only in qte-2.3.7/src/kernel: qwidget.o
Only in qte-2.3.7/src/kernel: qwidget_qws.o
diff -ru qte-2.3.7_orig/src/kernel/qwindowsystem_qws.cpp qte-2.3.7/src/kernel/qwindowsystem_qws.cpp
--- qte-2.3.7_orig/src/kernel/qwindowsystem_qws.cpp	Thu Jul 17 03:20:26 2003
+++ qte-2.3.7/src/kernel/qwindowsystem_qws.cpp	Mon Oct 27 14:27:25 2003
@@ -844,6 +844,18 @@
 {
 }
 
+static void catchSegvSignal( int )
+{
+#ifndef QT_NO_QWS_KEYBOARD
+    if ( qwsServer )
+	qwsServer->closeKeyboard();
+#endif
+    QWSServer::closedown();
+    fprintf(stderr, "Segmentation fault.\n");
+    exit(1);
+}
+
+
 /*!
   \class QWSServer qwindowsystem_qws.h
   \brief Server-specific functionality in Qt/Embedded
@@ -936,6 +948,7 @@
     }
 
     signal(SIGPIPE, ignoreSignal); //we get it when we read
+    signal(SIGSEGV, catchSegvSignal); //recover the keyboard on crash
 #endif
     focusw = 0;
     mouseGrabber = 0;
@@ -950,7 +963,7 @@
 
 #ifndef QT_NO_QWS_MULTIPROCESS
     if ( !geteuid() ) {
-#if !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
+#if !defined(_OS_MACX_) && !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
 	if( mount(0, "/var/shm", "shm", 0, 0) ) {
 	    /* This just confuses people with 2.2 kernels
 	    if ( errno != EBUSY )
Only in qte-2.3.7/src/kernel: qwindowsystem_qws.cpp~
Only in qte-2.3.7/src/kernel: qwindowsystem_qws.o
Only in qte-2.3.7/src/kernel: qwmatrix.o
Only in qte-2.3.7/src/kernel: qwsbeosdecoration_qws.o
Only in qte-2.3.7/src/kernel: qwscommand_qws.o
Only in qte-2.3.7/src/kernel: qwscursor_qws.o
Only in qte-2.3.7/src/kernel: qwsdecoration_qws.o
Only in qte-2.3.7/src/kernel: qwsdefaultdecoration_qws.o
Only in qte-2.3.7/src/kernel: qwsevent_qws.o
Only in qte-2.3.7/src/kernel: qwshydrodecoration_qws.o
Only in qte-2.3.7/src/kernel: qwskde2decoration_qws.o
Only in qte-2.3.7/src/kernel: qwskdedecoration_qws.o
Only in qte-2.3.7/src/kernel: qwsmanager_qws.o
diff -ru qte-2.3.7_orig/src/kernel/qwsmouse_qws.cpp qte-2.3.7/src/kernel/qwsmouse_qws.cpp
--- qte-2.3.7_orig/src/kernel/qwsmouse_qws.cpp	Thu Jul 17 03:20:26 2003
+++ qte-2.3.7/src/kernel/qwsmouse_qws.cpp	Mon Oct 27 14:27:25 2003
@@ -336,7 +336,7 @@
 	tty.c_oflag     = 0;
 	tty.c_lflag     = 0;
 	tty.c_cflag     = f | CREAD | CLOCAL | HUPCL;
-#if !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
+#if !defined(_OS_MACX_) && !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
 	tty.c_line      = 0;
 #endif
 	tty.c_cc[VTIME] = 0;
@@ -889,7 +889,7 @@
 		tty.c_iflag = IGNBRK | IGNPAR;
 		tty.c_oflag = 0;
 		tty.c_lflag = 0;
-#if !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
+#if !defined(_OS_MACX_) && !defined(_OS_FREEBSD_) && !defined(_OS_SOLARIS_)
 		tty.c_line = 0;
 #endif // _OS_FREEBSD_
 		tty.c_cc[VTIME] = 0;
Only in qte-2.3.7/src/kernel: qwsmouse_qws.moc
Only in qte-2.3.7/src/kernel: qwsmouse_qws.o
Only in qte-2.3.7/src/kernel: qwsproperty_qws.o
Only in qte-2.3.7/src/kernel: qwsregionmanager_qws.o
Only in qte-2.3.7/src/kernel: qwssocket_qws.o
Only in qte-2.3.7/src/kernel: qwswindowsdecoration_qws.o
Only in qte-2.3.7/src/moc: Makefile
Only in qte-2.3.7/src/moc: moc
Only in qte-2.3.7/src/moc: mocgen.o
Only in qte-2.3.7/src/moc: qbuffer.o
Only in qte-2.3.7/src/moc: qcollection.o
Only in qte-2.3.7/src/moc: qcstring.o
Only in qte-2.3.7/src/moc: qdatastream.o
Only in qte-2.3.7/src/moc: qdatetime.o
Only in qte-2.3.7/src/moc: qfile.o
Only in qte-2.3.7/src/moc: qfile_unix.o
Only in qte-2.3.7/src/moc: qgarray.o
Only in qte-2.3.7/src/moc: qgdict.o
Only in qte-2.3.7/src/moc: qglist.o
Only in qte-2.3.7/src/moc: qglobal.o
Only in qte-2.3.7/src/moc: qgvector.o
Only in qte-2.3.7/src/moc: qiodevice.o
Only in qte-2.3.7/src/moc: qregexp.o
Only in qte-2.3.7/src/moc: qstring.o
Only in qte-2.3.7/src/moc: qtextcodec.o
Only in qte-2.3.7/src/moc: qtextstream.o
Only in qte-2.3.7/src/moc: qutfcodec.o
Only in qte-2.3.7/src/network: qdns.o
Only in qte-2.3.7/src/network: qftp.o
Only in qte-2.3.7/src/network: qhostaddress.o
Only in qte-2.3.7/src/network: qnetwork.o
Only in qte-2.3.7/src/network: qserversocket.o
Only in qte-2.3.7/src/network: qsocket.o
Only in qte-2.3.7/src/network: qsocketdevice.o
Only in qte-2.3.7/src/network: qsocketdevice_unix.o
Only in qte-2.3.7/src/table: qtable.o
Only in qte-2.3.7/src/tools: qbitarray.o
Only in qte-2.3.7/src/tools: qbuffer.o
Only in qte-2.3.7/src/tools: qcollection.o
Only in qte-2.3.7/src/tools: qconfig-qpe.h
Only in qte-2.3.7/src/tools: qconfig-qpe.h~
diff -ru qte-2.3.7_orig/src/tools/qconfig.h qte-2.3.7/src/tools/qconfig.h
--- qte-2.3.7_orig/src/tools/qconfig.h	Fri Jan 26 14:43:06 2001
+++ qte-2.3.7/src/tools/qconfig.h	Wed Oct 29 22:13:16 2003
@@ -1,3 +1,26 @@
+// Copied from qconfig-qpe.h
+/**********************************************************************
+** Copyright (C) 2000 Trolltech AS.  All rights reserved.
+**
+** This file is part of Qtopia Environment.
+**
+** This file may be distributed and/or modified under the terms of the
+** GNU General Public License version 2 as published by the Free Software
+** Foundation and appearing in the file LICENSE.GPL included in the
+** packaging of this file.
+**
+** This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE
+** WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
+**
+** See http://www.trolltech.com/gpl/ for GPL licensing information.
+**
+** Contact info@trolltech.com if any conditions of this licensing are
+** not clear to you.
+**
+**********************************************************************/
+#ifndef QT_H
+#endif // QT_H
+
 // Empty leaves all features enabled.  See doc/html/features.html for choices.
 
 // Note that disabling some features will produce a libqt that is not
@@ -8,3 +31,69 @@
 #ifndef QT_DLL
 #define QT_DLL // Internal
 #endif
+
+#if defined(QT_QWS_IPAQ) || defined(QT_QWS_CASSIOPEIA) || defined(QT_QWS_SL5XXX)
+# define QT_NO_QWS_CURSOR
+# define QT_NO_QWS_MOUSE_AUTO
+#endif
+#ifndef QT_NO_CODECS
+#define QT_NO_CODECS
+#endif
+#define QT_NO_UNICODETABLES
+//#define QT_NO_IMAGEIO_BMP
+#define QT_NO_IMAGEIO_PPM
+//#define QT_NO_ASYNC_IO
+//#define QT_NO_ASYNC_IMAGE_IO
+#define QT_NO_FREETYPE
+#define QT_NO_BDF
+//#define QT_NO_FONTDATABASE
+#define QT_NO_DRAGANDDROP
+//#define QT_NO_CLIPBOARD
+#define QT_NO_PROPERTIES
+#define QT_NO_NETWORKPROTOCOL
+
+#define QT_NO_IMAGE_TEXT
+
+//#define QT_NO_TOOLTIP
+#define QT_NO_COLORNAMES
+#define QT_NO_TRANSFORMATIONS
+#define QT_NO_TRANSLATION_BUILDER
+#define QT_NO_COMPLEXTEXT
+#define QT_NO_PRINTER
+#define QT_NO_PICTURE
+//#define QT_NO_ICONVIEW
+#define QT_NO_DIAL
+#define QT_NO_SIZEGRIP
+#define QT_NO_WORKSPACE
+//#define QT_NO_TABLE
+//#define QT_NO_ACTION
+//#define QT_NO_SETTINGS
+#define QT_NO_STYLE_POCKETPC
+#ifndef QT_NO_STYLE_AQUA
+# define QT_NO_STYLE_AQUA
+#endif
+#define QT_NO_STYLE_MOTIF
+#define QT_NO_STYLE_PLATINUM
+#define QT_NO_FILEDIALOG
+#define QT_NO_FONTDIALOG
+#define QT_NO_PRINTDIALOG
+#define QT_NO_COLORDIALOG
+#define QT_NO_INPUTDIALOG
+//#define QT_NO_MESSAGEBOX
+#define QT_NO_PROGRESSDIALOG
+//#define QT_NO_TABDIALOG
+#define QT_NO_WIZARD
+#define QT_NO_EFFECTS
+//#define QT_NO_COMPONENT
+#define QT_NO_DOM
+#define QT_NO_SEMIMODAL
+//#define QT_NO_PROGRESSBAR
+#define QT_NO_SPLITTER
+
+//#define QT_NO_QWS_SAVEFONTS
+//#define QT_NO_QWS_PROPERTIES
+
+#define QT_NO_QWS_BEOS_WM_STYLE
+#define QT_NO_QWS_KDE2_WM_STYLE
+#define QT_NO_QWS_KDE_WM_STYLE
+#define QT_NO_QWS_WINDOWS_WM_STYLE
Only in qte-2.3.7/src/tools: qconfig.h~
Only in qte-2.3.7/src/tools: qcstring.o
Only in qte-2.3.7/src/tools: qdatastream.o
Only in qte-2.3.7/src/tools: qdatetime.o
Only in qte-2.3.7/src/tools: qdir.o
Only in qte-2.3.7/src/tools: qdir_unix.o
Only in qte-2.3.7/src/tools: qfile.o
Only in qte-2.3.7/src/tools: qfile_unix.o
Only in qte-2.3.7/src/tools: qfileinfo.o
Only in qte-2.3.7/src/tools: qfileinfo_unix.o
Only in qte-2.3.7/src/tools: qgarray.o
Only in qte-2.3.7/src/tools: qgcache.o
Only in qte-2.3.7/src/tools: qgdict.o
Only in qte-2.3.7/src/tools: qglist.o
Only in qte-2.3.7/src/tools: qglobal.o
Only in qte-2.3.7/src/tools: qgvector.o
Only in qte-2.3.7/src/tools: qiodevice.o
Only in qte-2.3.7/src/tools: qmap.o
diff -ru qte-2.3.7_orig/src/tools/qmodules.h qte-2.3.7/src/tools/qmodules.h
--- qte-2.3.7_orig/src/tools/qmodules.h	Fri Aug 31 17:00:56 2001
+++ qte-2.3.7/src/tools/qmodules.h	Wed Oct 29 21:57:53 2003
@@ -1,14 +1,12 @@
-#ifndef QT_H
-#endif // QT_H
-
+// These modules are licensed to you
 #define QT_MODULE_TOOLS
 #define QT_MODULE_KERNEL
 #define QT_MODULE_WIDGETS
 #define QT_MODULE_DIALOGS
-
 #define QT_MODULE_ICONVIEW
 #define QT_MODULE_WORKSPACE
-#define QT_MODULE_TABLE
+#define QT_MODULE_NETWORK
 #define QT_MODULE_CANVAS
+#define QT_MODULE_TABLE
 #define QT_MODULE_XML
-#define QT_MODULE_NETWORK
+#define QT_MODULE_OPENGL
Only in qte-2.3.7/src/tools: qregexp.o
Only in qte-2.3.7/src/tools: qstring.o
Only in qte-2.3.7/src/tools: qstringlist.o
Only in qte-2.3.7/src/tools: qtextcodec.o
Only in qte-2.3.7/src/tools: qtextstream.o
Only in qte-2.3.7/src/tools: qutfcodec.o
Only in qte-2.3.7/src/widgets: qaction.o
Only in qte-2.3.7/src/widgets: qbutton.o
Only in qte-2.3.7/src/widgets: qbuttongroup.o
Only in qte-2.3.7/src/widgets: qcdestyle.o
Only in qte-2.3.7/src/widgets: qcheckbox.o
Only in qte-2.3.7/src/widgets: qcombobox.o
diff -ru qte-2.3.7_orig/src/widgets/qcommonstyle.cpp qte-2.3.7/src/widgets/qcommonstyle.cpp
--- qte-2.3.7_orig/src/widgets/qcommonstyle.cpp	Thu Jul 17 03:20:26 2003
+++ qte-2.3.7/src/widgets/qcommonstyle.cpp	Mon Oct 27 14:21:28 2003
@@ -566,7 +566,7 @@
 				    bool enabled, bool active )
 {
 #ifndef QT_NO_MENUBAR
-#ifndef QT_NO_STYLE_SGI
+#if 1 // #ifndef QT_NO_STYLE_SGI
     if (draw_menu_bar_impl != 0) {
 	QDrawMenuBarItemImpl impl = draw_menu_bar_impl;
 	(this->*impl)(p, x, y, w, h, mi, g, enabled, active);
Only in qte-2.3.7/src/widgets: qcommonstyle.o
Only in qte-2.3.7/src/widgets: qcompactstyle.o
Only in qte-2.3.7/src/widgets: qdial.o
Only in qte-2.3.7/src/widgets: qeffects.moc
Only in qte-2.3.7/src/widgets: qeffects.o
Only in qte-2.3.7/src/widgets: qframe.o
Only in qte-2.3.7/src/widgets: qgrid.o
Only in qte-2.3.7/src/widgets: qgroupbox.o
Only in qte-2.3.7/src/widgets: qhbox.o
Only in qte-2.3.7/src/widgets: qhbuttongroup.o
Only in qte-2.3.7/src/widgets: qheader.o
Only in qte-2.3.7/src/widgets: qhgroupbox.o
Only in qte-2.3.7/src/widgets: qinterlacestyle.o
Only in qte-2.3.7/src/widgets: qlabel.o
Only in qte-2.3.7/src/widgets: qlcdnumber.o
Only in qte-2.3.7/src/widgets: qlineedit.o
Only in qte-2.3.7/src/widgets: qlistbox.o
diff -ru qte-2.3.7_orig/src/widgets/qlistview.cpp qte-2.3.7/src/widgets/qlistview.cpp
--- qte-2.3.7_orig/src/widgets/qlistview.cpp	Thu Jul 17 03:20:26 2003
+++ qte-2.3.7/src/widgets/qlistview.cpp	Mon Oct 27 14:21:28 2003
@@ -4968,9 +4968,9 @@
 	l = l->childItem ? l->childItem : l->siblingItem;
 
     if ( l && l->height() )
-	s.setHeight( s.height() + 10 * l->height() );
-    else
-	s.setHeight( s.height() + 140 );
+	s.setHeight( s.height() + 4 /*10*/ * l->height() );
+    else                      // ^v much too big for handhelds
+	s.setHeight( s.height() + 30 /*140*/ );
 
     if ( s.width() > s.height() * 3 )
 	s.setHeight( s.width() / 3 );
Only in qte-2.3.7/src/widgets: qlistview.o
Only in qte-2.3.7/src/widgets: qmainwindow.moc
Only in qte-2.3.7/src/widgets: qmainwindow.o
Only in qte-2.3.7/src/widgets: qmenubar.o
Only in qte-2.3.7/src/widgets: qmenudata.o
Only in qte-2.3.7/src/widgets: qmotifplusstyle.o
Only in qte-2.3.7/src/widgets: qmotifstyle.o
Only in qte-2.3.7/src/widgets: qmultilineedit.o
Only in qte-2.3.7/src/widgets: qplatinumstyle.o
Only in qte-2.3.7/src/widgets: qpopupmenu.o
Only in qte-2.3.7/src/widgets: qprogressbar.o
Only in qte-2.3.7/src/widgets: qpushbutton.o
Only in qte-2.3.7/src/widgets: qradiobutton.o
Only in qte-2.3.7/src/widgets: qrangecontrol.o
Only in qte-2.3.7/src/widgets: qscrollbar.o
Only in qte-2.3.7/src/widgets: qscrollview.o
Only in qte-2.3.7/src/widgets: qsgistyle.o
Only in qte-2.3.7/src/widgets: qslider.o
Only in qte-2.3.7/src/widgets: qspinbox.o
Only in qte-2.3.7/src/widgets: qsplitter.o
Only in qte-2.3.7/src/widgets: qstatusbar.o
Only in qte-2.3.7/src/widgets: qtabbar.o
Only in qte-2.3.7/src/widgets: qtableview.o
Only in qte-2.3.7/src/widgets: qtabwidget.o
Only in qte-2.3.7/src/widgets: qtextbrowser.o
Only in qte-2.3.7/src/widgets: qtextview.o
Only in qte-2.3.7/src/widgets: qtoolbar.moc
Only in qte-2.3.7/src/widgets: qtoolbar.o
diff -ru qte-2.3.7_orig/src/widgets/qtoolbutton.cpp qte-2.3.7/src/widgets/qtoolbutton.cpp
--- qte-2.3.7_orig/src/widgets/qtoolbutton.cpp	Thu Jul 17 03:20:27 2003
+++ qte-2.3.7/src/widgets/qtoolbutton.cpp	Mon Oct 27 14:21:28 2003
@@ -230,7 +230,7 @@
 	else
 	    QToolTip::add( this, textLabel );
     }
-#endif	
+#endif
 }
 
 
@@ -324,12 +324,12 @@
 	QPixmap pm = iconSet(TRUE).pixmap(QIconSet::Large, QIconSet::Normal);
 	w = pm.width();
 	h = pm.height();
-	if ( w < 32 )
-	    w = 32;
-	if ( h < 32 )
-	    h = 32;
+	if ( w < 24 )
+	    w = 24;
+	if ( h < 24 )
+	    h = 24;
     } else {
-	w = h = 16;
+	w = h = 14;
 	QPixmap pm = iconSet(TRUE).pixmap(QIconSet::Small, QIconSet::Normal);
 	w = pm.width();
 	h = pm.height();
Only in qte-2.3.7/src/widgets: qtoolbutton.o
Only in qte-2.3.7/src/widgets: qtooltip.moc
Only in qte-2.3.7/src/widgets: qtooltip.o
Only in qte-2.3.7/src/widgets: qvalidator.o
Only in qte-2.3.7/src/widgets: qvbox.o
Only in qte-2.3.7/src/widgets: qvbuttongroup.o
Only in qte-2.3.7/src/widgets: qvgroupbox.o
Only in qte-2.3.7/src/widgets: qwhatsthis.moc
Only in qte-2.3.7/src/widgets: qwhatsthis.o
Only in qte-2.3.7/src/widgets: qwidgetstack.o
Only in qte-2.3.7/src/widgets: qwindowsstyle.o
Only in qte-2.3.7/src/workspace: qworkspace.moc
Only in qte-2.3.7/src/workspace: qworkspace.o
Only in qte-2.3.7/src/xml: qdom.o
Only in qte-2.3.7/src/xml: qxml.o
Only in qte-2.3.7: src-mt.mk
Only in qte-2.3.7: stamp-headers
Only in qte-2.3.7/tools: Makefile
Only in qte-2.3.7/tools/designer: Makefile
Only in qte-2.3.7/tools/designer/designer: Makefile
Only in qte-2.3.7/tools/designer/examples/walkthrough: Makefile
Only in qte-2.3.7/tools/designer/integration/rc2ui: Makefile
Only in qte-2.3.7/tools/designer/tools/createcw: Makefile
Only in qte-2.3.7/tools/designer/uic: Makefile
Only in qte-2.3.7/tools/designer/util: Makefile
Only in qte-2.3.7/tools/makeqpf: Makefile
Only in qte-2.3.7/tools/mergetr: Makefile
Only in qte-2.3.7/tools/msg2qm: Makefile
Only in qte-2.3.7/tools/qconfig: Makefile
Only in qte-2.3.7/tools/qembed: Makefile
Only in qte-2.3.7/tools/qvfb: Makefile
Only in qte-2.3.7/tutorial: Makefile
Only in qte-2.3.7/tutorial/t1: Makefile
Only in qte-2.3.7/tutorial/t10: Makefile
Only in qte-2.3.7/tutorial/t11: Makefile
Only in qte-2.3.7/tutorial/t12: Makefile
Only in qte-2.3.7/tutorial/t13: Makefile
Only in qte-2.3.7/tutorial/t14: Makefile
Only in qte-2.3.7/tutorial/t2: Makefile
Only in qte-2.3.7/tutorial/t3: Makefile
Only in qte-2.3.7/tutorial/t4: Makefile
Only in qte-2.3.7/tutorial/t5: Makefile
Only in qte-2.3.7/tutorial/t6: Makefile
Only in qte-2.3.7/tutorial/t7: Makefile
Only in qte-2.3.7/tutorial/t8: Makefile
Only in qte-2.3.7/tutorial/t9: Makefile
